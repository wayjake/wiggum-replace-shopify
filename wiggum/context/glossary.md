# ðŸ“š Glossary of Terms

```
     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
     â•‘  "What's a battle?"                                    â•‘
     â•‘                        - Ralph, asking the real questions
     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ðŸ› ï¸ Technology Terms

### TanStack Start

| Term | Definition |
|------|------------|
| **TanStack Start** | A full-stack React framework combining Vite, React SSR, and file-based routing. Think Next.js but with TanStack Router. |
| **Server Function** | A function created with `createServerFn()` that runs only on the server but can be called from the client. Magic! |
| **Route Loader** | A function that fetches data before a route renders. Runs on server, data available instantly on client. |
| **File-based Routing** | Routes are defined by file structure. `/routes/shop/index.tsx` = `/shop` URL. |
| **SSR (Server-Side Rendering)** | HTML is generated on the server, sent to browser, then hydrated with React. Fast initial load. |
| **Hydration** | The process where React "takes over" server-rendered HTML and makes it interactive. |

### Drizzle ORM

| Term | Definition |
|------|------------|
| **Drizzle** | A TypeScript ORM that's thin, type-safe, and SQL-like. Not an abstraction layer - you're still writing SQL, just with types. |
| **Schema** | TypeScript files defining your database tables. Source of truth for your data model. |
| **Migration** | SQL files that track changes to your database structure over time. Generated by `drizzle-kit`. |
| **drizzle-kit** | CLI tool for generating migrations, pushing schema changes, and managing your database. |
| **Query Builder** | Drizzle's way of writing queries: `db.select().from(products).where(eq(products.id, 1))` |

### Turso

| Term | Definition |
|------|------------|
| **Turso** | A SQLite-at-the-edge database service. Global replication, low latency, serverless-friendly. |
| **libSQL** | The open-source fork of SQLite that Turso is built on. Adds features like HTTP access. |
| **Database URL** | Connection string format: `libsql://your-db-name.turso.io` |
| **Auth Token** | JWT token for authenticating with your Turso database. Keep it secret! |
| **Edge Replicas** | Copies of your database distributed globally for faster reads. |

### Stripe

| Term | Definition |
|------|------------|
| **Publishable Key** | Client-side key (starts with `pk_`). Safe to expose in browser. Used for Stripe.js. |
| **Secret Key** | Server-only key (starts with `sk_`). Never expose to client. Used for API calls. |
| **Checkout Session** | A Stripe-hosted payment page. You redirect users there, Stripe handles the rest. |
| **Webhook** | HTTP callback from Stripe to your server when events happen (payment succeeded, refund issued, etc.). |
| **Payment Intent** | Represents a customer's intent to pay. Tracks the lifecycle of a payment. |
| **Payment Method** | A saved card or bank account attached to a Stripe Customer for future payments. |
| **Stripe Customer** | A record in Stripe representing a buyer. Links to payment methods and orders. |
| **idempotency Key** | A unique string to prevent duplicate operations. Same key = same result, even if called twice. |

### Brevo (Email)

| Term | Definition |
|------|------------|
| **Brevo** | Email marketing and transactional email service (formerly Sendinblue). Handles all our customer emails. |
| **Transactional Email** | One-to-one emails triggered by user actions (order confirmations, shipping updates). Not marketing. |
| **Template ID** | Numeric identifier for a Brevo email template. Set up in Brevo dashboard, reference by ID in code. |
| **Contact** | A person in your Brevo database. Has email, name, and custom attributes. |
| **List** | A group of contacts for email campaigns. Customers can be added to lists with consent. |
| **SMTP Relay** | Brevo's email sending infrastructure. We use their API, not direct SMTP. |
| **Sender** | The email address emails appear to come from. Must be verified in Brevo. |

### Inngest (Event System)

| Term | Definition |
|------|------------|
| **Inngest** | Event-driven background job system. Handles async operations with durability and retries. |
| **Event** | A named occurrence that triggers functions. Format: `namespace/entity.action` (e.g., `shop/order.completed`). |
| **Function** | Code that runs in response to an event. Created with `inngest.createFunction()`. |
| **Step** | A durable operation within a function. `step.run()` for code, `step.sleep()` for delays. |
| **Drip Campaign** | A sequence of timed emails triggered by an event. Uses `step.sleep()` between sends. |
| **Signing Key** | Secret key for verifying Inngest webhook authenticity. Required in production. |
| **Event Key** | Key for sending events to Inngest from your application. |
| **Dev Server** | Local Inngest server (`npx inngest-cli dev`) for testing functions without cloud. |

---

## ðŸª Business Terms

### E-commerce Concepts

| Term | Definition |
|------|------------|
| **SKU** | Stock Keeping Unit. Unique identifier for a product variant. |
| **Cart** | Temporary storage of items a customer wants to buy. Usually session-based. |
| **Checkout** | The process of finalizing a purchase. Collecting payment and shipping info. |
| **Order** | A completed purchase. Contains line items, customer info, payment status. |
| **Fulfillment** | The process of shipping orders to customers. |

### Our Soap Store

| Term | Definition |
|------|------------|
| **Product** | A soap bar we're selling. Has name, price, description, image. |
| **Category** | Grouping for products: Relaxation, Exfoliating, Luxury, Energizing, etc. |
| **Stock** | Whether we have a product available. Boolean in our schema. |
| **Dashboard** | Admin area where store owner manages products and views orders. |

### User Roles & Auth (Magic Link / Passwordless)

| Term | Definition |
|------|------------|
| **User** | Anyone with an account in our system. Has email and role. No passwords! |
| **Magic Link** | A unique, time-limited URL sent via email that logs the user in when clicked. No password needed. |
| **Magic Token** | The secure random token embedded in a magic link. Stored in `magic_tokens` table, expires in 15 min. |
| **Admin** | Store owner with full access. Can manage products, orders, customers, and settings. |
| **Customer** | A shopper who has purchased. Has access to order history and payment management. |
| **Session** | Server-side record linking a browser cookie to a user. Created after magic link verification. |
| **Role** | User permission level (`admin` or `customer`). Stored in database, checked on protected routes. |
| **Auth Gate** | Middleware that checks user authentication/role before allowing route access. |
| **Customer Portal** | `/account/*` routes where customers manage their orders and payment methods. |
| **Admin Dashboard** | `/admin/*` routes where admins manage the store. |

---

## ðŸ”§ Development Terms

### Environment & Deployment

| Term | Definition |
|------|------------|
| **.env** | File containing environment variables. Never commit to git! |
| **.env.example** | Template showing what env vars are needed. Safe to commit. |
| **Environment Variable** | Configuration value set outside your code. Different per environment (dev/staging/prod). |
| **Vercel** | Deployment platform. Reads env vars from their dashboard. |
| **Edge Function** | Serverless function that runs globally at the edge (close to users). |

### Project-Specific

| Term | Definition |
|------|------------|
| **Installation Wizard** | Our onboarding flow for setting up required environment variables. |
| **Stripe Gate** | The check that prevents dashboard access until Stripe is configured. |
| **cn() utility** | Helper function combining clsx + tailwind-merge for conditional classes. |

---

## ðŸ“ File Naming Conventions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FILENAME PATTERNS                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Routes:                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚
â”‚  index.tsx         â†’ Index route for directory               â”‚
â”‚  __root.tsx        â†’ Root layout (double underscore)         â”‚
â”‚  $productId.tsx    â†’ Dynamic segment ($ prefix)              â”‚
â”‚  layout.tsx        â†’ Layout wrapper                          â”‚
â”‚                                                               â”‚
â”‚  Components:                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚
â”‚  Button.tsx        â†’ PascalCase for components               â”‚
â”‚  ProductCard.tsx   â†’ Descriptive component names             â”‚
â”‚                                                               â”‚
â”‚  Utilities:                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚
â”‚  utils.ts          â†’ General utilities                       â”‚
â”‚  stripe.ts         â†’ Stripe-specific utilities               â”‚
â”‚                                                               â”‚
â”‚  Database:                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚
â”‚  schema/products.ts â†’ Table definition files                 â”‚
â”‚  migrations/*.sql   â†’ Auto-generated, don't edit             â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ­ Code Patterns

### Common Patterns We Use

```typescript
// ðŸ”¥ Server Function Pattern
export const doSomething = createServerFn({ method: 'POST' })
  .validator(schema)
  .handler(async ({ data }) => { /* ... */ });

// ðŸŽ£ Loader Pattern
export const Route = createFileRoute('/somewhere')({
  loader: async () => await getData(),
  component: () => {
    const data = Route.useLoaderData();
    return <div>{/* render */}</div>;
  },
});

// ðŸ§© Component Pattern
export function ComponentName({ prop1, prop2 }: Props) {
  return <div>...</div>;
}

type Props = {
  prop1: string;
  prop2: number;
};
```

---

## ðŸ†˜ Common Error Messages

| Error | Meaning | Solution |
|-------|---------|----------|
| `TURSO_DATABASE_URL is not defined` | Missing database URL | Add to .env |
| `stripe.errors.AuthenticationError` | Invalid Stripe key | Check secret key |
| `SQLITE_CANTOPEN` | Can't open database | Check Turso URL/token |
| `Webhook signature verification failed` | Wrong webhook secret | Regenerate in Stripe dashboard |
| `hydration mismatch` | Server/client HTML differ | Check for client-only code in SSR |

---

*"I'm a unitard!"* - Ralph (but he meant "unit test")
